<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="author" content="Chilla42o <tweetfilterjs@gmail.com>" />
    <title>Tweetfilter - timeline filter for twitter.com</title>
    <link rel="stylesheet" type="text/css" media="all" href="http://fonts.googleapis.com/css?family=Droid+Serif|Droid+Sans&amp;v1" />    
    <link rel="stylesheet" type="text/css" media="all" href="webdata/index.css?v1" />
    <style type="text/javascript">
      body.loading { overflow: hidden; }
      body.loading #all { visibility: hidden !important; }
    </style>
  </head>
  <body class="">
    <script>document.getElementsByTagName('body')[0].setAttribute('class','loading');</script>
    <div id="all">
      <div id="contents">
        <div id="content">
          <div id="header">
            <img id="logo" src="webdata/tf-logo-trans.png" width="200" height="127" alt="Tweetfilter" />
          <h1>Tweetfilter</h1>
          <h2>for browsers</h2>
          </div>
          <div id="description">
            <p><span>Tweetfilter is a highly customizable timeline filter running on top of twitter.com
              supporting most modern desktop browsers.</span> This includes <a href="http://getfirefox.com" target="_blank">Firefox <i>3.6+</i></a>, 
              <a href="http://www.google.com/chrome" target="_blank">Chrome <i>4+</i></a>, <a href="http://www.opera.com/" target="_blank">Opera <i>11+</i></a>, 
              <a href="http://www.apple.com/safari/" target="_blank">Safari <i>5+</i></a> and <a href="http://ie.microsoft.com" target="_blank">IE <i>9+</i></a>.
              For best experience please always use the latest stable release of your favorite browser.
            </p>
          </div>
          <div id="screenshot">
            <img src="webdata/tf-screenshot.png" alt="Tweetfilter 2.0 / @tweetfilterjs" width="681" height="296" />
          </div>
          <div id="intro">
            <p>You can filter (hide or show only) Tweets of certain kind, from certain sources or
              with specific content. The filter makes an exception for your conversations and can be
              disabled and inverted at any time making sure you don't miss something important to you.
              This gives you the possibility to remove the noise from your timeline or ignore topics
              you are not interested in without inversive actions like unfollowing your friends, but
              also to quickly find Tweets with specific content in your timelines.<br />
              Additionally, Tweetfilter allows you to customize many aspects of the Twitter website,
               hide features and add new ones, for better transparency and usability.</p>
          </div>
          <div id="idea">
            <h2>Tweetfilter was your idea</h2>
            <p>
              Thanks to many (direct or indirect) suggestions you and others posted on Twitter over time, Tweetfilter
              became more than just a timeline cleaner. In particular many #newtwitter and #twitter/@twitter 
              tagged critics and feature requests from the public timeline were taken into account during development, 
              making Tweetfilter a useful extension to the twitter.com application inspired by the community. 
            </p>
          </div>
          <div id="features">
            <h2 id="features-basic">Basic features</h2>
            <ul>
              <li>filter independently all retweets (including classic RT-format), media, replies, Tweets with
                links from timelines with tweets</li>
              <li>custom filters for keywords, full-word (exact) match, username, mentions, hashtags,
                real name, source (via) with live updated match count</li>
              <li>shortened link expansion</li>
              <li>highlight Tweets mentioning you</li>
              <li>customize timeline layout, add via information, new menu options</li>
              <li>customize dashboard and aspects of the twitter.com layout 
                  gaining more space and remove distractions</li>
              <li>show friend status in Tweets (who you follow, who follows you)</li>
              <li>sound and message notification on new mentions and/or direct messages</li>
              <li>... please see section <a href="#options">Options</a> for full list of options.</li>
            </ul>
            <h2 id="whatsnew">New most user requested features in Tweetfilter 2.0</h2>
            <ul>
              <li><strong>Filter</strong> works on <strong>all timelines</strong> with Tweets, like
                favorites, user profile or lists</li>
              <li><strong>Export and import</strong> settings and filters via bookmarklet</li>
              <li><strong>Quote Tweets</strong> ("classic RT")</li>
              <li><strong>Direct message</strong> feature</li>
              <li>Alert and <strong>sound notification</strong> on new messages and mentions</li>
              <li>Filter <strong>exclusion</strong> list</li>
              <li>Hide main Tweet box to gain <strong>more vertical space</strong> (press "N" for new
                tweet or click the top bar icon)</li>
              <li>Disable timeline cache <strong>solving lags</strong> between page switches on older/slower
                browsers</li>
              <li><strong>Regular expression</strong> filters</li>
            </ul>
            <h2 id="features-new">Other new features in Tweetfilter 2.0</h2>
            <ul>
              <li><strong>Tweetfilter 2.0 is</strong> completely refactored and runs
                <strong>faster</strong> and smoother with a index based filter</li>
              <li><strong>New collapsible widget</strong> with <strong>scrollable filter list</strong>,
                browser independent layout adapting to your color settings</li>
              <li>quickly filter all retweets (including classic RT-format), media, replies, Tweets with
                links on top of the widget</li>
              <li>Better retweets: show source and friend status of retweeting user.</li>
              <li>New <strong>exclusive filter</strong> mode: you can <strong>middle/ctrl-click
                  filters</strong> to combine and quickly search for Tweets matching them</li>
              <li><strong>Friend status</strong> now also shows who follows you and who you are
                following, useful <strong>outside home timeline</strong></li>
              <li>New <strong>name filter</strong>: filter Tweets matching certain bio realnames</li>
              <li>Many more <strong>fixes and improvements</strong>, adapted to latest twitter.com
                updates</li>
            </ul>
          </div>
          <div id="usage">
            <h2>Usage</h2>
            <p> Tweetfilter reorganizes and adds new menu options to the Tweets in your timelines. By
              clicking the Tweetfilter symbol at the bottom right of a tweet a <strong>drop-down
                menu</strong> will appear showing you the <strong>user</strong>, contained
              <strong>mentions</strong>, <strong>hashtags</strong> and <strong>links</strong> (if any).</p>
            <p><img class="align-right" src="webdata/tf-screenshot-2.png" alt="Tweetfilter" width="288" height="157" />
              You can select from the list what you want to filter. Newly added filters take effect immediately and
              will add matching Tweets to "Filtered". On the top of the Tweetfilter widget you see the count
              of Tweets which passed all filters ("passed") and those which match at least one filter ("filtered").
              You can click "filtered" and "passed" to switch between the two.</p>
            <p><img class="align-left" src="webdata/tf-screenshot-3.png" alt="Tweetfilter" width="448" height="83" /></p>
            <p>With the four quick filters on the right of the Tweetfilter logo you can instantly show (white background) 
              or hide (gray background) all replies, retweets, media and tweets containing links from the current timeline.</p>
            <p>You can type <strong>simple text filters</strong> (keywords/phrases) in the
              "<strong>Add to Tweetfilter</strong>"-input on the widget, pressing enter will create a
              new filter entry in the "Filters" list showing you the count of matches and all Tweets
              containing this keyword/phrase (also as part of another word or contained in the text of links) 
              are immediately moved to the "filtered"-group. This way you can also filter #hashtags, @mentions and links.</p>
            <h3 id="special-filters">Special filters</h3>
            <ul>
              <li>to force any filter to <strong>full word match</strong> (exact match), wrap the
                keyword/phrase part in double quotes: the filter <code>"hat"</code>  will not
                match a Tweet which just contains <strong>what</strong>, <strong>hattrick</strong> or <strong>hate</strong> (like the simple text filter
                <code>hat</code> without quotes would).</li>
              <li>to filter Tweets containing an <strong>exact phrase or word</strong> add
                <code>"word"</code> to the filter (with the double quotes). This will match "i say
                word" but not "i say keyword", it matches only entire words or phrases.</li>
              <li>to filter Tweets by <strong>Tweet's source (via)</strong> add
                <code>via:partofclient</code> to the filter (will appear italic). For example
                <code>via:web</code> will filter all Tweets from sources (via) <strong>containing</strong> "web".
              </li>
              <li>To hide/search all Tweets coming from a certain user, either select it directly from
              the <strong>"add to filter"-dropdown</strong> menu at the bottom of the tweet, or add
              <code>from:@username</code> (with or without @) to the filter. Filters which match usernames
              appear <strong>bold</strong> in the filter. If you want to exclude a user from the
              filter, prefix it with - (hyphen): <code>-from:@buddy</code> - the filter will be
              added to the "exclusions" list, no Tweets coming from this user will be added to the
              "filtered" Tweets.</li>
              <li>to filter all Tweets by posting user's <strong>real name</strong> add
                <code>by:partofname</code> to the filter (where "partofname" is the keyword/phrase
                you want to search within the user's real name)</li>
            </ul>
            <h3 id="exclusion">Exclusions</h3>
            <p>If you want to <strong>exclude</strong> anything from the filter process,
              <strong>prefix it with - (hyphen)</strong>. <br />For example: <code>-love</code> will
              <em>exclude</em> all Tweets containing <code>love</code> <em>from all other
                filters</em> - the filter will be added to the "exclusions" list, no Tweets matching this
              filter will be added to the "filtered" Tweets<br />
              <strong>This works for all filter types:</strong> <code>-@mention</code>, <code>-by:nameofuser</code>, <code>-"exact
              phrase"</code>, <code>-from:@username</code>, etc.</p>
            <h3 id="edge-cases">Edge cases</h3>
            <ul>
              <li>If it happens you want to filter a term which Tweetfilter sees as special filter,
                prefix it with a ' (single quote): <code>'-keyword</code>. If you enter anything in
                the filter <strong>prefixed with single quote,</strong> it will always be a <em>simple
                  text filter</em> even if it has a special syntax.</li>
              <li>if you want to filter anything beginning with a single quote, prefix it with another
                one: <code>''neverhappens'</code> will filter anything containing 'neverhappens'
                (with the quotes).</li>
            </ul>
            <h3 id="quick-filters">Exclusive/Search filter</h3>
            <p>
            You can click every filter in <strong>Filters</strong>, <strong>Exclusions</strong> and
            <strong>on the right of the Tweetfilter logo</strong> with the <strong>middle
              mouse</strong> button or while <strong>holding Ctrl</strong> to exclusively <strong>show
              only Tweets matching this filters.</strong> The filter will be
            <strong>underlined</strong> (or dark colored in case of the top filters). Clicking
            another filter this way will <strong>add it</strong>  to the <strong>exclusive
              filter</strong> set. Middle/Ctrl-clicking it another time will <strong>remove it</strong>
            from the set. Scroll down (or click the Tweetfilter <strong>down arrow</strong>) to load
            more tweets, only those matching the filters will appear. Press <strong>passed</strong>
            or <strong>filtered</strong> to exit exclusive filter mode. 
            </p>
            <h3 id="filter-notes">Notes</h3>
            <ul>
              <li>All filters are <strong>case insensitive</strong>.</li>
              <li>You can't filter Tweets mentioning you, unless you uncheck "skip mentioning me" in
                the Filter-options (except when in @Mentions or in exclusive mode).</li>
              <li>You can't filter your own Tweets unless you uncheck the option "skip my posts" in the
                "Filter" options (except when in timelines showing only your Tweets, like in "Your
                Tweets" or "Your Tweets, retweeted", or in exclusive mode)</li>
              <li>Simple text filters do not match text contained in mentions (appearing as
                @username-link). If setting a filter <code>tweetfilter</code>, a Tweet mentioning @tweetfilterjs
                will not be filtered unless it contains "tweetfilter" in the rest of the text.</li>
              <li>Text filters also scan the text within expanded links (the url). It can happen that
                Tweets will be moved to filtered or back to passed (in case of exclusion) as soon as the
                Twitter-API expands a link in the tweet containing a filter keyword. The option "expand
                links" doesn't need to be active for this to work, links are expanded in the background
                by the twitter.com application itself, not Tweetfilter. This way Tweetfilter can match
                links pointing to certain domains even if they appear shortened.</li>
            </ul>
            <h3 id="usage-advanced">Advanced usage</h3>
            <p>If you know how to write Regular Expressions, Tweetfilter 2.0 offers you the
              possibility to transform any filter to a regular expression:</p>
            <ul>
              <li><code>from:@/^[ab]/</code> will filter all usernames beginning with "A", "a", "B" or
                "b" (the "i" flag is added to the expression)</li>
              <li><code>via:noisy sources=/123$/</code> will filter all Tweets via sources ending
                with 123, the <strong>filter title</strong> will be "noisy sources".</li>
              <li>you can also add regular filters to the exclusion list prefixing them with -
                (hyphen).</li>
              <li>The <strong>short</strong> (but also less comprehensive) <strong>syntax</strong> still works
                (and even has been extended)
                <ul>
                  <li><code>@@</code> is equivalent to <code>from:@</code></li>
                  <li><code>:@</code> is equivalent to <code>via:</code></li>
                  <li><code>?@</code> is equivalent to <code>by:</code></li>
                </ul>
                 Like the corresponding long syntax explained earlier, this <strong>can be combined</strong> with
                 <strong>exclusion</strong>, <strong>exact</strong> word match or <strong>regular
                 expression</strong>:<ul><li><code>@@/^(user1|user2|user3)$/</code></li><li><code>?@"Bob"</code></li><li>...</li></ul>
              </li>
            </ul>
          </div>
          <div id="options">
            <h2>Options</h2>
            <h3 id="options-filter">Filter</h3>
            <ul>
              <li><strong>skip mentioning me</strong> will avoid tweets containg an @mention of your username to
                  be added to "Filtered", even if matching other filters in use. <em>This option is disabled in
                  @Mentions.</em></li>
              <li><strong>skip my posts</strong> will never add tweets written by you to "Filtered", even if
                  matching other active filters you set. This option is disabled in timelines 
                  which show only your own Tweets.</li>
              <li><strong>add selection to filter</strong> enables you to quickly add select
                text within your Tweets by clicking the Tweet again afterwards. If you want do deselect,
                click left or right outside the timeline. Use the mousewheel/Ctrl-click (middle click) to
                add the selection to the exclusion list.</li>
              <li><strong>highlight mentioning me</strong> adds some color to Tweets containing an @Mention
                of you  (disabled and inactive in @Mentions).</li>
            </ul>
            <h3 id="options-timeline">Timeline</h3>
            <ul>
              <li><strong>show friend status</strong> shows with an icon near the name of tweeting (and retweeting) 
                user in Tweets and friend lists who follows you (<span class="follower">white star</span>), 
                who you follow (<span class="following">gray star</span>), and who is a mutual friend 
                (<span class="mutual">yellow star</span>), refreshed automatically after an hour.</li>
              <li><strong>show via in tweets</strong> displays twitter client information in Tweets
                (which you can filter with via:)</li>
              <li><strong>show line breaks</strong> shows the line breaks in Tweets (like most desktop
                clients do)</li>
              <li><strong>expand new tweets</strong> immediately shows new tweets instead of new new tweets
                bar</li>
              <li><strong>expand links</strong> expands shortened urls in Tweets</li>
              <li><strong>small links</strong> shrinks link size in Tweets saving vertical space
                (especially when "expand links" is enabled)</li>
            </ul>
            <h3 id="options-dashboard">Dashboard</h3>
            <ul>
              <li><strong>fixed dashboard</strong> keeps the dashboard in position while scrolling
                down.</li>
              <li><strong>compact activities</strong> hides the profile pictures in your activities
                (Following, Followers)</li>
              <li><strong>hide who to follow</strong> hides the "Who To Follow" and the "Similar To"
                box.</li>
              <li><strong>hide trends</strong> hides the "Trends"-box</li>
              <li><strong>hide advertising</strong> hides the advertising-box</li>
              <li><strong>minify menu</strong> shows only essential menu links</li>
              <li><strong>expand last</strong> tweet shows the full last tweet </li>
            </ul>
            <h3 id="options-layout">Layout</h3>
            <ul>
              <li><strong>auto hide top bar</strong> shows the top bar only when the mouse is over it or when the
                search-field is focused</li>
              <li><strong>hide question hides</strong> "Whats happening?"</li>
              <li><strong>hide main tweet</strong> box hides the tweet box on top of the timeline. You can still press
                "N" for new Tweet.</li>
            </ul>
            <h3 id="options-notify">Notify</h3>
            <ul>
              <li><strong>alert new dm</strong> displays a message through Twitters notification system when you have
                new messages</li>
              <li><strong>sound on new dm</strong> plays a sound on new messages</li>
              <li><strong>alert new mentions</strong> displays a message through Twitters notification system when
                someone mentioned you (@Mentions)</li>
              <li><strong>sound on new mentions</strong> plays a sound when you have new @Mentions</li>
            </ul>
            <h3 id="options-more">More</h3>
            <ul>
              <li><strong>disable timeline cache</strong> causes a reload of the timeline on switch. On older/slower browser
                versions like Firefox 3.6.x this solves lags when switching back to a stream which has
                many loaded (and cached) Tweets. </li>
              <li>export <strong>Tweetfilter settings</strong> by dragging the "Tweetfilter settings" bookmarklet to
                your favorites bar (or, alternatively right click > add to bookmarks or similar). 
                After you click it (while on twitter.com with Tweetfilter running), your settings from the moment of adding the
                bookmarklet will be reloaded. This triggers one page refresh. YOUR CURRENT SETTINGS WILL BE LOST.</li>
            </ul>
          </div>
          <div id="feedback">
            <h2>Bugs, your ideas and feature suggestions</h2>
            <p>Found a bug? Great, let's kill it. Have an idea on how to improve Tweetfilter? Even
              better! You can post potential bugs, ideas and/or feature suggestions in the <a href="https://github.com/Tweetfilter/tweetfilter.github.com/issues" target="_blank">Github
              Tweetfilter Issues Tracker</a>, thanks! If you are a developer and fixed a bug, please
              file a <a href="https://github.com/Tweetfilter/tweetfilter.github.com/pulls" target="_blank">pull request</a>.</p>
            <p>Thanks for using Tweetfilter!</p>
          </div>
        </div>
        <div id="sidebar">
          <div id="install">
            <div class="method dynamic">
              <h2>Get Tweetfilter</h2>
                <div class="browsers"></div>
              <ol>
                <li>Add this bookmarklet to your favorites:
                  <div class="bookmarklet">
                    <a class="bookmarklet" title="Tweetfilter 2.0" onclick="return false;" href="javascript:(function()%20{%20$('body').append('<script%20src=%22'+location.protocol+'//userscripts.org/scripts/source/49905.user.js%22%20type=%22text/javascript%22></script>');%20})()">
                      <span>Tweetfilter</span>
                    </a>
                    <div class="version">
                      Current Version: 2.0 rc1<br />
                      Updated: 2011-07-09<br />
                      (via <a href="http://userscripts.org/scripts/show/49905" target="_blank">userscripts.org</a>)
                    </div>
                  </div>
                  <em>(drag it your favorites bar or add it to your bookmarks
                  with right click &gt; add to bookmarks/favorites or similar)</em></li>
                <li>Go to your home on <a href="https://twitter.com/" target="_blank">Twitter</a> and
                  press the bookmarklet.</li>
              </ol>
            </div>
            <p class="note">No installation or authorization process is
                required in order to use Tweetfilter. You need to add the bookmarklet only once
                and you will always get the latest version.
                After you pressed the bookmarklet Tweetfilter will stay loaded on all pages
                which have timelines and the top black bar, until you fully refresh the page (F5) or switch away to
                another page without the black bar.</p>
            <div class="method dynamic">
              <h2>Permanent installation</h2>
              <div class="browsers permanent"></div>
              <ol>
                <li>(This step for Firefox only) Get <a href="https://addons.mozilla.org/firefox/addon/748/" target="_blank">Greasemonkey</a></li>
                <li>Click to install <a href="https://raw.github.com/Tweetfilter/tweetfilter.github.com/master/tweetfilter.user.js">Tweetfilter</a></li>
                <li>Go to <a href="http://twitter.com/#" target="_blank">Twitter</a></li>
              </ol>
            </div>
            <p class="note">Permanent installations will not update automatically. Please follow/list <a href="https://twitter.com/tweetfilterjs">@tweetfilterjs</a> 
                for update notifications or check this site for updates.</p>
            <p class="note">Permanent installation with Opera through Javascript settings is not supported
                anymore. Please use the bookmarklet instead, which also has
                other advantages, or send your suggestions <a href="https://twitter.com/tweetfilterjs">@tweetfilterjs</a> if you know an alternative
                permanent installation method for Opera or any browsers not mentioned.</p>
          </div>
          <div id="mentions">
            <h2>Thanks for all the mentions!</h2>
            <div id="links">
              <ul>
                <li><a href="http://www.ampercent.com/filter-block-tweets-keywords-sources/7462/" target="_blank">Tweet Filter Removes Clutter From Twitter Timeline By Blocking Specific Tweets</a>
                  <em>on ampercent.com</em></li>
                <li><a href="http://lifehacker.com/5703244/tweetfilter-is-like-a-gmail-filter-for-twitter" target="_blank">Tweetfilter is Like a Gmail Filter for Twitter</a> <em>on lifehacker.com</em></li>
                <li><a href="http://horstscheuer.net/article.php?id=723" target="_blank">UserScript TweetFilter</a> <em>on horstscheuer.net (German)</em></li>
                <li><a href="http://www.techedified.com/2011/01/filter-your-twitter-stream-with-tweetfilter/">Filter Your Twitter Stream With Tweetfilter</a> <em>on techedified.com</em></li>
                <li><a href="http://www.moongift.jp/2010/12/20101212-2/" target="_blank">Gmailのようにツイートをフィルタリングする「Tweetfilter」</a> <em>on moongift.jp (Japan)</em></li>
                <li><a href="http://circuitointegrado.folha.blog.uol.com.br/arch2010-12-26_2011-01-01.html#2010_12-28_13_15_19-130986617-0" target="_blank">Filtre chatos do Twitter sem precisar dar unfollow neles</a> <em>on circuitointegrado.folha.blog.uol.com.br (Portuguese)</em></li>
                <li class="missing"><em>All links are reviews of Tweetfilter 1.x, yet.</em></li>
              </ul>
            </div>
            <div id="tweets"></div>
          </div>
          <div id="awesome">
            <h2>Tweetfilter is awesome and free, thanks to you</h2>
            <p><strong>Tweetfilter is free open source software</strong> released under GPL v3
              license, <strong>inspired and supported by the Twitter community. Tweetfilter is not
                associated in any way with Twitter Inc.</strong></p>
           <p>Tweetfilter started in 2009 ("old" Twitter times) as project on the well known
            <a href="http://userscripts.org/scripts/show/49905" rel="nofollow">userscripts.org</a>, where it is still hosted.
            Since 2011 Tweetfilter 2.0 is also maintained on the fabulous <a href="https://github.com/Tweetfilter/tweetfilter.github.com">github.com</a>.</p>
          </div>
          <div id="support">
            <h2>Support what you like</h2>
            <p>Everything you donate goes to support the Tweetfilter project, for the work already 
              done and for new nice features to come. Thank you very much!</p>
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
              <input name="cmd" value="_s-xclick" type="hidden" />
              <input name="hosted_button_id" value="J9ZSAVRL8GKQ2" type="hidden" />
              <a class="paypal" href="#" data-type="submit"><span>Donate via <i>Pay</i><i>Pal™</i></span></a>
              <a class="flattr" href="http://flattr.com/thing/333626/Tweetfilter" target="_blank">
                <span>Flattr <i>this</i></span>
              </a>
              <img alt="" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" height="1" width="1" />
            </form>
          </div>
           <div id="share">
            <h2>Share with your friends</h2>
            <div class="a2a_kit">
              <a class="a2a_button_twitter twttr">
                <span>Twitter</span>
              </a>
              <a class="a2a_button_stumbleupon stumble">
                <span>Stumble<i>Upon</i></span>
              </a>
              <a class="a2a_button_googleplusone plusone">
                <span>Google <i>+1</i></span>
              </a>
            </div>
          </div>
       </div><!--sidebar-->
      </div><!--contents-->
    </div><!--all-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script src="http://static.addtoany.com/menu/page.js"></script>   
    <script type="text/javascript">
      var a2a_config = a2a_config || {};
      a2a_config.templates = {
        twitter: "${title} ${link} by @tweetfilterjs"
      };
      var winresize = function() {
        $contents.css('height', $content.outerHeight()+4); //fix for bottom shadow
        $sidebarscroll.css({'width':$sidebar.innerWidth()-50});         
      };
      var winscroll = function() {
        sidebar.height = $sidebarscroll.outerHeight();
        sidebar.offset = $sidebar.offset();
        sidebar.positiontop = $sidebarscroll.offset().top;
        scrolled.top = $win.scrollTop();
        scrolled.delta = scrolled.top - scrolled.prevtop; // < 0 = up, > 0 = down
        scrolled.prevtop = scrolled.top;
        if ((scrolled.delta < 0 && sidebar.appearance === 'bottom') ||
            (scrolled.delta > 0 && sidebar.appearance === 'top')) {
          sidebar.positiontop = $sidebarscroll.offset().top;
          $sidebar.removeClass('pintop pinbottom').css({'top':sidebar.positiontop});
          sidebar.appearance = 'positioned';
        }
        if (sidebar.appearance === 'positioned') {
          if (scrolled.delta < 0 && scrolled.top < sidebar.positiontop) {
            $sidebar.addClass('pintop');
            $sidebarscroll.css({'width':$sidebar.innerWidth()-50});
            sidebar.appearance = 'top';
          } else if (scrolled.delta > 0 && (scrolled.top+$win.height() > sidebar.height+parseInt($sidebar.css('top'), 10))) {
            $sidebar.addClass('pinbottom');
            $sidebarscroll.css({'width':$sidebar.innerWidth()-50});
            sidebar.appearance = 'bottom';
          }
        }
      };
      var sidebar = {'appearance':'positioned'}, $win, scrolled={};
      $(window).load(function() { 
        $win = $(window);
        scrolled.prevtop = 0;
        $content = $('#content');
        $contents = $('#contents');
        $content.css({'position': 'absolute',
          'left': 0,
          'width':'60%'
        });
        $sidebar = $('#sidebar');
        $sidebar.css({'position': 'absolute',
          'left': '60%',
          'top':0,
          'width':'40%'
        });
        $sidebar.wrapInner('<div class="scroll"></div>');
        $sidebarscroll = $('> div.scroll', $sidebar);
        $win.resize(winresize).scroll(winscroll).triggerHandler('resize');
        if (window.location.hash) {
          window.location.hash = window.location.hash;
        }
        $('body').removeClass('loading');
      });
      var cache=[];
      var preloadimages = function() {
        var args_len = arguments.length;
        for (var i = args_len; i--;) {
          var cacheImage = document.createElement('img');
          cacheImage.src = arguments[i];
          cache.push(cacheImage);
        }
      };
      
      function relatime(time) { 
        var values = time.split(" ");
        time = values[1] + " " + values[2] + ", " + values[5] + " " + values[3];
        var parsed_date = Date.parse(time);
        var relative_to = (arguments.length > 1) ? arguments[1] : new Date();
        var delta = parseInt((relative_to.getTime() - parsed_date) / 1000);
        delta = delta + (relative_to.getTimezoneOffset() * 60);

        if (delta < 60) {
          return 'less than a minute ago';
        } else if(delta < 120) {
          return 'about a minute ago';
        } else if(delta < (60*60)) {
          return (parseInt(delta / 60)).toString() + ' minutes ago';
        } else if(delta < (120*60)) {
          return 'about an hour ago';
        } else if(delta < (24*60*60)) {
          return 'about ' + (parseInt(delta / 3600)).toString() + ' hours ago';
        } else if(delta < (48*60*60)) {
          return '1 day ago';
        } else {
          return (parseInt(delta / 86400)).toString() + ' days ago';
        }
      }
      
      var showtweets = function(tweets) {
        var tweet, feedhtml = ["<ul>"];
        for (var t=0,tmax=tweets.results.length;t<tmax && (tweet=tweets.results[t]);t++) {
          feedhtml.push('<li>'+
                          '<div class="pic">'+
                            '<a target="_blank" href="https://twitter.com/'+tweet.from_user+'"><img src="'+tweet.profile_image_url+'" alt="'+tweet.from_user+'" /></a>'+
                          '</div>'+
                          '<div class="msg">'+
                            '<a class="from" href="https://twitter.com/'+tweet.from_user+'">'+tweet.from_user+'</a>: '+tweet.text+'<br /><span class="time">'+relatime(tweet.created_at)+'</span>'+
                          '</div>'+
                        '</li>');
        }
        feedhtml.push("</ul>");
        $('#tweets').html(feedhtml.join("\n"));
      }
      
      function showtweetfeed() {
        var twitterJSON = document.createElement("script");
        twitterJSON.type="text/javascript";
        twitterJSON.src="http://search.twitter.com/search.json?callback=showtweets&q=Tweetfilter&lang=all&rpp=21";
        $('body').append(twitterJSON);
        return false;
      }
      
      $(function() {
        preloadimages('webdata/tf-bookmarklet-over.gif','webdata/tf-bookmarklet-grab.gif');
        $('a.bookmarklet').bind('mouseenter', function() { $(this).addClass('over'); })
                          .bind('mouseleave', function() { $(this).removeClass('over'); })
                          .bind('mousedown', function() { $(this).addClass('grab'); })
                          .bind('mouseup mouseleave', function() { $(this).removeClass('grab'); });
        showtweetfeed();
        $('#links a').click(function() {
          window.open($(this).attr('href'));
          return false;
        });
        $('a[data-type=submit]').click(function() {
          $(this).closest('form').submit();
          return false;
        })
                          
      })
    </script>
  </body>
</html>